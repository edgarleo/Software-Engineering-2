\documentclass{article}
\usepackage{graphicx}
\usepackage[fontsize=11pt]{scrextend}
\title{PowerEnjoy Service - Design Document}
\begin{document}

\begin{titlepage}
\begin{figure}
	\centering
	\includegraphics{polimi}
\end{figure}
\maketitle
\centering
Prof. Luca Mottola
\newline
\raggedleft
Authors:
\begin{itemize}
	\raggedleft
	\item ZHOU YINAN(Mat. 872686)
	\item ZHAO KAIXIN(Mat. 875464)
	\item ZHAN YUAN(Mat. 806508)	
\end{itemize}
\end{titlepage}

\tableofcontents
\newpage

	
	\section{INTRODUCTION}
	\subsection{Purpose}
	The Design Document serves to describe the structure of the PowerEnJoy service. It provides all the detailed information for building the system. More precisely, it provides the information on the chosen architecture style and design pattern. It explains how the components are implemented and interacted in the system. The document also provides the verification of fulfilling the requirements listed in the RASD documents. In general, the document is served as a guideline for program developers.
	\subsection{Scope}
	The Design Document shows how the system is built and explains how the functional requirements in the RASD file are realized. The document covers high level architecture design, interacting components,  algorithms and user interface design. 
	\subsection{Definitions, Acronyms, Abbreviations}
	\begin{itemize}
		\item RASD : Requirement Analysis and Specification Document
		\item DD : Design Document
		\item MVC : Model View Controller
		\item REST : Representational state transfer (REST) or RESTful web services are one way of providing interoperability between computer systems on the Internet.
		\item JSON : JSON (JavaScript Object Notation) is a minimal, readable format for structuring data. 
	\end{itemize}
	\subsection{Reference Documents}
	\begin{itemize}
		\item Specification Document Assignments AA 2016-2017
		\item RASD
	\end{itemize}
	\newpage
	\subsection{Document Structure}
	The Design Document is divided into 7 parts : 
	\begin{itemize}
		\item \textbf{Introduction} : This section introduces the structure of Design Document and some basic background knowledge to understand the document.
		\item \textbf{Architecture Design}
		\\1. High level components and their interactions : This section gives a general description of how the components are defined and how they communicate with each other  
		\\2. Component view : This section gives detailed information of components defined in the system
		\\3. Deployment view : This section describes how the components are deployed in order to act correctly
		\\4. Runtime view : This section gives the sequential diagrams of how the users accomplish their requests
		\\5. Component interfaces : The interfaces of components are described in this section
		\\6. Selected architectural styles and patterns : This section explains the reason of choosing certain architecture and the benefits accompanied
		\\7. Other design decisions
		\item \textbf{Algorithm Design} : In the section, the necessary code samples are given in order to clearly demonstrate the component interaction 
		\item \textbf{User Interface Design} : this section presents mockups and user experience explained via UX and BCE diagrams
		\item \textbf{Requirement Traceability} : This section shows how the requirements in the RASD are accomplished in the design
	\end{itemize}
	\newpage
	\section{ARCHITECTURAL DESIGN}
	
	\subsection{High level components and their interaction}
	\subsection{Component view}
	\subsection{Deployment view}
	\subsection{Runtime view}
	You can use sequence diagrams to describe the way components interact to accomplish specific tasks typically related to your use cases.
	\subsection{Component interfaces}
	\subsubsection{Client app}
	\textbf{register(name, surname, email,drivingLisence,paymentInfo)}
	\\
	\\The register function on the Client app side receives from input all the necessary information for registering. This information is then sent to the server in the format of JSON for former processing.
	\\
	\\\textbf{logIn(email, password)}
	\\
	\\The logIn function receives from the input the user's email and corresponding password. This information is then sent to the server in the format of JSON for former processing. 
	\\
	\\\textbf{car[] getAvailableCars(location)}
	\\
	\\By providing a location, users can get all the available cars nearby. The location information is sent to the server in the format of JSON then the server sends back all the cars that are available near that location. 
	\\
	\\\textbf{void reserve(user, car)}
	\\
	\\The reserve function allows a user to reserve a car. The reserve request is then sent to the reservation Manager in the server.
	\\
	\\\textbf{void openTheDoor(car,location)}
	\\
	\\When the user gets to the reserved car, he can inform the server that he is nearby by sending his current location to the server. 
	
	\subsubsection{Car app}
	\textbf{void startRide(user, car)}
	\\
	\\Car app notifies the server that a ride starts.
	\\
	\\\textbf{void endRide(user, car, state)}
	\\
	\\Car app notifies the server that a ride is finished.
	\\
	\\\textbf{String getCurrentPrice(user,car)}
	\\
	\\The working car can get the current price information from the server.
	\subsubsection{Guset Manager}
	\textbf{User register(credentials)}
	\\
	\\The register function receives from clients the credentials. The Guest Manager in the server checks whether the received credentials already exist in the database or not. In the case of new coming credentials, the Guest Manager uses Gmail API to send an email to the guest with a newly generated password. Then Guest Manager creates a new tuple using credentials and password and inserts it into the database.A User object created by the Guest Manager is sent back to the client app. In the case of non valid credentials, the server sends back an error notation to the client app.
	\\
	\\\textbf{User signIn(email, password)}
	\\
	\\The signIn function checks the email and password provided by the user in the server side. If they are valid i.e. there exists a corresponding email and the password matches the email, an instance of User object is sent back to the client app.
	
	\subsubsection{User Manager}
	\textbf{Reservation reserver(user, car)}
	\\
	\\User makes request to the server for a car reservation. User Manager processes the request and makes reservation to the corresponding car. 
	\\
	\\\textbf{Boolean reservationTimeOut(user, car)}
	\\
	\\When the reserved car is timing out, User Manager notifies the corresponding user and cancels the reservation.
	
	\subsubsection{Car Manager}
	\textbf{Ride startRIde(user,car)}
	\\
	\\Car Manager on the server side receives from car app the user and car information. It checks from the database whether the ride request is valid or not. In the case of valid request, Car Manager creates a Ride object and sends it back to the car app. Also Car Manager stores the data into the database. In the case of a non-valid request, the server sends back to the car app an error notation.
	\\
	\\\textbf{String endRide(user,car,state)}
	\\
	\\Car Manager processes the request of ending a ride from the car app. It gets the ride information from the database and calculates the final price of the ride. Then Car Manager sends back to car app the price user needs to pay. 
	\subsection{Selected architectural styles and patterns}
	Please explain which styles/patterns you used, why and how
	\subsection{Other design decisions}
	\newpage
	\section{ALGORITHM DESIGN}
	Focus on the definition of the most relevant algorithmic part
	\newpage
	\section{USER INTERFACE DESIGN}
	This section will describe different interfaces for the components. Component interfaces are divided into three different aspects : Guest Manager, User Manager and Car Manager.
	
	\newpage
	\section{REQUIREMENT TRACEABILITY}
	\newpage
	\section{EFFORT SPENT}
	\newpage
	\section{REFERENCES}

\end{document}